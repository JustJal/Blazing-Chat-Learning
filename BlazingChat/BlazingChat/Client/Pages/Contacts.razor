@page "/contacts"
@using BlazingChat.Shared
@inject HttpClient Http
@inject NavigationManager Manager
<div class="col-12">
    @foreach (var contact in contacts)
     {
        <a href="/chat/@contact.FirstName" class="list-group-item list-group-item-action flex-column align-items-start">
            @contact.FirstName <span>   </span> @contact.LastName
        </a>
     }
</div>

@code {
    private WeatherForecast[] forecasts;
    private List<Contact> contacts = new();

    protected override async Task OnInitializedAsync()
    {
        forecasts = await Http.GetFromJsonAsync<WeatherForecast[]>("WeatherForecast");

        contacts.AddRange(new[]
        {
                new Contact(1, "Julius", "Caesar"),
                new Contact(2, "Marco", "Antonio"),
                new Contact(3, "Leonel", "Messi"),
                new Contact(4, "Cristiano", "Ronaldo"),
                new Contact(5, "Antonie", "Griezzman")
            });
    }

    private void NavigateToChat(int ID)
    {
        Manager.NavigateTo($"/chat/{ID}");
    }

}
